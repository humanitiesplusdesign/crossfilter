!function(r){function n(r){return r}function e(r,n){for(var e=0,t=n.length,u=Array(t);t>e;++e)u[e]=r[n[e]];return u}function t(r){function n(n,e,t,u){for(;u>t;){var f=t+u>>>1;r(n[f])<e?t=f+1:u=f}return t}function e(n,e,t,u){for(;u>t;){var f=t+u>>>1;e<r(n[f])?u=f:t=f+1}return t}return e.right=e,e.left=n,e}function u(r){function n(r,n,e){for(var u=e-n,f=(u>>>1)+1;--f>0;)t(r,f,u,n);return r}function e(r,n,e){for(var u,f=e-n;--f>0;)u=r[n],r[n]=r[n+f],r[n+f]=u,t(r,1,f,n);return r}function t(n,e,t,u){for(var f,o=n[--u+e],i=r(o);(f=e<<1)<=t&&(t>f&&r(n[u+f])>r(n[u+f+1])&&f++,!(i<=r(n[u+f])));)n[u+e]=n[u+f],e=f;n[u+e]=o}return n.sort=e,n}function f(r){function n(n,t,u,f){var o,i,a,c,l=Array(f=Math.min(u-t,f));for(i=0;f>i;++i)l[i]=n[t++];if(e(l,0,f),u>t){o=r(l[0]);do(a=r(c=n[t])>o)&&(l[0]=c,o=r(e(l,0,f)[0]));while(++t<u)}return l}var e=u(r);return n}function o(r){function n(n,e,t){for(var u=e+1;t>u;++u){for(var f=u,o=n[u],i=r(o);f>e&&r(n[f-1])>i;--f)n[f]=n[f-1];n[f]=o}return n}return n}function i(r){function n(r,n,u){return(U>u-n?t:e)(r,n,u)}function e(e,t,u){var f,o=0|(u-t)/6,i=t+o,a=u-1-o,c=t+u-1>>1,l=c-o,v=c+o,s=e[i],h=r(s),p=e[l],d=r(p),g=e[c],y=r(g),m=e[v],b=r(m),x=e[a],A=r(x);h>d&&(f=s,s=p,p=f,f=h,h=d,d=f),b>A&&(f=m,m=x,x=f,f=b,b=A,A=f),h>y&&(f=s,s=g,g=f,f=h,h=y,y=f),d>y&&(f=p,p=g,g=f,f=d,d=y,y=f),h>b&&(f=s,s=m,m=f,f=h,h=b,b=f),y>b&&(f=g,g=m,m=f,f=y,y=b,b=f),d>A&&(f=p,p=x,x=f,f=d,d=A,A=f),d>y&&(f=p,p=g,g=f,f=d,d=y,y=f),b>A&&(f=m,m=x,x=f,f=b,b=A,A=f);var k=p,O=d,E=m,w=b;e[i]=s,e[l]=e[t],e[c]=g,e[v]=e[u-1],e[a]=x;var M=t+1,U=u-2,z=w>=O&&O>=w;if(z)for(var N=M;U>=N;++N){var C=e[N],S=r(C);if(O>S)N!==M&&(e[N]=e[M],e[M]=C),++M;else if(S>O)for(;;){var q=r(e[U]);{if(!(q>O)){if(O>q){e[N]=e[M],e[M++]=e[U],e[U--]=C;break}e[N]=e[U],e[U--]=C;break}U--}}}else for(var N=M;U>=N;N++){var C=e[N],S=r(C);if(O>S)N!==M&&(e[N]=e[M],e[M]=C),++M;else if(S>w)for(;;){var q=r(e[U]);{if(!(q>w)){O>q?(e[N]=e[M],e[M++]=e[U],e[U--]=C):(e[N]=e[U],e[U--]=C);break}if(U--,N>U)break}}}if(e[t]=e[M-1],e[M-1]=k,e[u-1]=e[U+1],e[U+1]=E,n(e,t,M-1),n(e,U+2,u),z)return e;if(i>M&&U>a){for(var F,q;(F=r(e[M]))<=O&&F>=O;)++M;for(;(q=r(e[U]))<=w&&q>=w;)--U;for(var N=M;U>=N;N++){var C=e[N],S=r(C);if(O>=S&&S>=O)N!==M&&(e[N]=e[M],e[M]=C),M++;else if(w>=S&&S>=w)for(;;){var q=r(e[U]);{if(!(w>=q&&q>=w)){O>q?(e[N]=e[M],e[M++]=e[U],e[U--]=C):(e[N]=e[U],e[U--]=C);break}if(U--,N>U)break}}}}return n(e,M,U+1)}var t=o(r);return n}function a(r){return Array(r)}function c(r,n){return function(e){var t=e.length;return[r.left(e,n,0,t),r.right(e,n,0,t)]}}function l(r,n){var e=n[0],t=n[1];return function(n){var u=n.length;return[r.left(n,e,0,u),r.left(n,t,0,u)]}}function v(r){return[0,r.length]}function s(){return null}function h(){return 0}function p(r){return r+1}function d(r){return r-1}function g(r){return function(n,e){return n+ +r(e)}}function y(r){return function(n,e){return n-r(e)}}function m(){function r(r){var n=w,e=r.length;return e&&(E=E.concat(r),N=S(N,w+=e),F.forEach(function(t){t(r,n,e)})),O}function t(){for(var r=b(w,w),n=[],e=0,t=0;w>e;++e)N[e]?r[e]=t++:n.push(e);C.forEach(function(r){r(0,[],n)}),R.forEach(function(n){n(r)});for(var u,e=0,t=0;w>e;++e)(u=N[e])&&(e!==t&&(N[t]=u,E[t]=E[e]),++t);for(E.length=t;w>t;)N[--w]=0}function o(r){function t(n,t,u){V=n.map(r),W=_(x(u),0,u),V=e(V,W);var f,o=rn(V),i=o[0],a=o[1];if(X)for(f=0;u>f;++f)X(V[f],f)||(N[W[f]+t]|=Z);else{for(f=0;i>f;++f)N[W[f]+t]|=Z;for(f=a;u>f;++f)N[W[f]+t]|=Z}if(!t)return Q=V,T=W,tn=i,un=a,void 0;var c=Q,l=T,v=0,s=0;for(Q=Array(w),T=b(w,w),f=0;t>v&&u>s;++f)c[v]<V[s]?(Q[f]=c[v],T[f]=l[v++]):(Q[f]=V[s],T[f]=W[s++]+t);for(;t>v;++v,++f)Q[f]=c[v],T[f]=l[v];for(;u>s;++s,++f)Q[f]=V[s],T[f]=W[s]+t;o=rn(Q),tn=o[0],un=o[1]}function o(r,n,e){nn.forEach(function(r){r(V,W,n,e)}),V=W=null}function a(r){for(var n,e=0,t=0;w>e;++e)N[n=T[e]]&&(e!==t&&(Q[t]=Q[e]),T[t]=r[n],++t);for(Q.length=t;w>t;)T[t++]=0;var u=rn(Q);tn=u[0],un=u[1]}function m(r){var n=r[0],e=r[1];if(X)return X=null,G(function(r,t){return t>=n&&e>t}),tn=n,un=e,Y;var t,u,f,o=[],i=[];if(tn>n)for(t=n,u=Math.min(tn,e);u>t;++t)N[f=T[t]]^=Z,o.push(f);else if(n>tn)for(t=tn,u=Math.min(n,un);u>t;++t)N[f=T[t]]^=Z,i.push(f);if(e>un)for(t=Math.max(n,un),u=e;u>t;++t)N[f=T[t]]^=Z,o.push(f);else if(un>e)for(t=Math.max(tn,e),u=un;u>t;++t)N[f=T[t]]^=Z,i.push(f);return tn=n,un=e,C.forEach(function(r){r(Z,o,i)}),Y}function O(r){return null==r?B():Array.isArray(r)?j(r):"function"==typeof r?D(r):z(r)}function z(r){return m((rn=c(k,r))(Q))}function j(r){return m((rn=l(k,r))(Q))}function B(){return m((rn=v)(Q))}function D(r){return rn=v,G(X=r),tn=0,un=w,Y}function G(r){var n,e,t,u=[],f=[];for(n=0;w>n;++n)!(N[e=T[n]]&Z)^(t=r(Q[n],n))&&(t?(N[e]&=$,u.push(e)):(N[e]|=Z,f.push(e)));C.forEach(function(r){r(Z,u,f)})}function H(r){for(var n,e=[],t=un;--t>=tn&&r>0;)N[n=T[t]]||(e.push(E[n]),--r);return e}function I(r){for(var n,e=[],t=tn;un>t&&r>0;)N[n=T[t]]||(e.push(E[n]),--r),t++;return e}function J(r){function e(n,e,t,u){function f(){++P===L&&(m=q(m,K<<=1),B=q(B,K),L=A(K))}var l,v,h,p,d,g,y=j,m=b(P,L),x=H,k=J,O=P,M=0,U=0;for(X&&(x=k=s),j=Array(P),P=0,B=O>1?S(B,w):b(w,L),O&&(h=(v=y[0]).key);u>U&&!((p=r(n[U]))>=p);)++U;for(;u>U;){for(v&&p>=h?(d=v,g=h,m[M]=P,(v=y[++M])&&(h=v.key)):(d={key:p,value:k()},g=p),j[P]=d;!(p>g||(B[l=e[U]+t]=P,N[l]&$||(d.value=x(d.value,E[l])),++U>=u));)p=r(n[U]);f()}for(;O>M;)j[m[M]=P]=y[M++],f();if(P>M)for(M=0;t>M;++M)B[M]=m[B[M]];l=C.indexOf(V),P>1?(V=o,W=a):(1===P?(V=i,W=c):(V=s,W=s),B=null),C[l]=V}function t(){if(P>1){for(var r=P,n=j,e=b(r,r),t=0,u=0;w>t;++t)N[t]&&(e[B[u]=B[t]]=1,++u);for(j=[],P=0,t=0;r>t;++t)e[t]&&(e[t]=P++,j.push(n[t]));if(P>1)for(var t=0;u>t;++t)B[t]=e[B[t]];else B=null;C[C.indexOf(V)]=P>1?(W=a,V=o):1===P?(W=c,V=i):W=V=s}else if(1===P){for(var t=0;w>t;++t)if(N[t])return;j=[],P=0,C[C.indexOf(V)]=V=W=s}}function o(r,n,e){if(r!==Z&&!X){var t,u,f,o;for(t=0,f=n.length;f>t;++t)N[u=n[t]]&$||(o=j[B[u]],o.value=H(o.value,E[u]));for(t=0,f=e.length;f>t;++t)(N[u=e[t]]&$)===r&&(o=j[B[u]],o.value=I(o.value,E[u]))}}function i(r,n,e){if(r!==Z&&!X){var t,u,f,o=j[0];for(t=0,f=n.length;f>t;++t)N[u=n[t]]&$||(o.value=H(o.value,E[u]));for(t=0,f=e.length;f>t;++t)(N[u=e[t]]&$)===r&&(o.value=I(o.value,E[u]))}}function a(){var r,n;for(r=0;P>r;++r)j[r].value=J();for(r=0;w>r;++r)n=j[B[r]],n.value=H(n.value,E[r]);for(r=0;w>r;++r)N[r]&$&&(n=j[B[r]],n.value=I(n.value,E[r]))}function c(){var r,n=j[0];for(n.value=J(),r=0;w>r;++r)n.value=H(n.value,E[r]);for(r=0;w>r;++r)N[r]&$&&(n.value=I(n.value,E[r]))}function l(){return X&&(W(),X=!1),j}function v(r){var n=D(l(),0,j.length,r);return G.sort(n,0,n.length)}function m(r,n,e){return H=r,I=n,J=e,X=!0,F}function x(){return m(p,d,h)}function k(r){return m(g(r),y(r),h)}function O(r){function n(n){return r(n.value)}return D=f(n),G=u(n),F}function M(){return O(n)}function U(){return P}function z(){var r=C.indexOf(V);return r>=0&&C.splice(r,1),r=nn.indexOf(e),r>=0&&nn.splice(r,1),r=R.indexOf(t),r>=0&&R.splice(r,1),F}var F={top:v,all:l,reduce:m,reduceCount:x,reduceSum:k,order:O,orderNatural:M,size:U,dispose:z,remove:z};en.push(F);var j,B,D,G,H,I,J,K=8,L=A(K),P=0,V=s,W=s,X=!0;return arguments.length<1&&(r=n),C.push(V),nn.push(e),R.push(t),e(Q,T,0,w),x().orderNatural()}function K(){var r=J(s),n=r.all;return delete r.all,delete r.top,delete r.order,delete r.orderNatural,delete r.size,r.value=function(){return n()[0].value},r}function L(){en.forEach(function(r){r.dispose()});var r=F.indexOf(t);for(r>=0&&F.splice(r,1),r=F.indexOf(o),r>=0&&F.splice(r,1),r=R.indexOf(a),r>=0&&R.splice(r,1),r=0;w>r;++r)N[r]&=$;return M&=$,Y}function P(n){return r(n)}var Q,T,V,W,X,Y={filter:O,filterExact:z,filterRange:j,filterFunction:D,filterAll:B,top:H,bottom:I,group:J,groupAll:K,accessor:P,dispose:L,remove:L},Z=~M&-~M,$=~Z,_=i(function(r){return V[r]}),rn=v,nn=[],en=[],tn=0,un=0;return F.unshift(t),F.push(o),R.push(a),M|=Z,(U>=32?!Z:M&(1<<U)-1)&&(N=q(N,U<<=1)),t(E,0,w),o(E,0,w),Y}function a(){function r(r,n){var e;if(!m)for(e=n;w>e;++e)N[e]||(a=c(a,E[e]))}function n(r,n,e){var t,u,f;if(!m){for(t=0,f=n.length;f>t;++t)N[u=n[t]]||(a=c(a,E[u]));for(t=0,f=e.length;f>t;++t)N[u=e[t]]===r&&(a=l(a,E[u]))}}function e(){var r;for(a=v(),r=0;w>r;++r)N[r]||(a=c(a,E[r]))}function t(r,n,e){return c=r,l=n,v=e,m=!0,s}function u(){return t(p,d,h)}function f(r){return t(g(r),y(r),h)}function o(){return m&&(e(),m=!1),a}function i(){var e=C.indexOf(n);return e>=0&&C.splice(e),e=F.indexOf(r),e>=0&&F.splice(e),s}var a,c,l,v,s={reduce:t,reduceCount:u,reduceSum:f,value:o,dispose:i,remove:i},m=!0;return C.push(n),F.push(r),r(E,0,w),u()}function m(){return w}var O={add:r,remove:t,dimension:o,groupAll:a,size:m},E=[],w=0,M=0,U=8,N=z(0),C=[],F=[],R=[];return arguments.length?r(arguments[0]):O}function b(r,n){return(257>n?z:65537>n?N:C)(r)}function x(r){for(var n=b(r,r),e=-1;++e<r;)n[e]=e;return n}function A(r){return 8===r?256:16===r?65536:4294967296}m.version="1.3.5",m.permute=e;var k=m.bisect=t(n);k.by=t;var O=m.heap=u(n);O.by=u;var E=m.heapselect=f(n);E.by=f;var w=m.insertionsort=o(n);w.by=o;var M=m.quicksort=i(n);M.by=i;var U=32,z=a,N=a,C=a,S=n,q=n;"undefined"!=typeof Uint8Array&&(z=function(r){return new Uint8Array(r)},N=function(r){return new Uint16Array(r)},C=function(r){return new Uint32Array(r)},S=function(r,n){if(r.length>=n)return r;var e=new r.constructor(n);return e.set(r),e},q=function(r,n){var e;switch(n){case 16:e=N(r.length);break;case 32:e=C(r.length);break;default:throw Error("invalid array width!")}return e.set(r),e}),r.crossfilter=m}(this);